<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="{{ site.url }}/assets/style.css" />
    <link rel="alternate" type="application/atom+xml" title="Feed for {{ site.url }}" href="/feed.xml">

    {%- comment -%}
        Try to find reasonable data for the
        meta properties and json.
    {%- endcomment -%}

    {%- if page.description %}
        {% capture descript %}
            {{- page.description -}} 
        {% endcapture %}
    {% else %}
        {% capture descript %}
            {{- site.description -}} 
        {% endcapture %}
    {% endif %}
    {% if page.title %}
        {% capture title %}
            {{- page.title -}} 
        {% endcapture %}
    {% else %}
            {% assign title = site.title -%} 
    {% endif -%}

    <title>{{ title }}</title>
    <meta name="author" content="{{ site.author }}" />
    <meta name="description" content="{{ site.description }}" />
    <link rel="canonical" href="{{ site.url }}{{ page.url }}" />
    <meta property="og:description" content="{{ descript }}" />
    <meta property="og:url" content="{{ site.url }}/{{ page.url }}" />
    <meta property="og:site_name" content="{{ site.title }}" />
    <meta property="og:image" content="{{ page.image }}" />
    {% if page.date -%}
    <meta property="og:type" content="article" />
    <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}" />
    {%- else -%}
    <meta property="og:type" content="website" />
    {%- endif %}
    <meta property="og:title" content="{{ title }}" />
    {% comment -%}
        Language can be set by setting 'lang: ab_CD'
        in '_config.yml'.
    {%- endcomment -%}
    {% if site.lang -%}
    <meta property="og:locale" content="{{ site.lang }}" />
    <meta property="og:locale:alternate" content="en_US" />
    {%- else -%}
    <meta property="og:locale" content="en_US" />
    {%- endif %}
    
    <script type="application/ld+json">
    {"description":"{{ descript }}",
    "author":{"@type":"Person","name":"{{ site.author }}"},
    "@type":"BlogPosting","url":"{{ site.url }}{{ page.url }}",
    "image":"{{ site.url }}{{ page.image }}","
    "headline":"{{ title }}",
    {% if page.date -%}
    "dateModified":"{{ page.date | date_to_xml_schema }}",
    "datePublished":"{{ page.date | date_to_xml_schema }}",
    {%- endif %}
    "mainEntityOfPage":{"@type":"WebPage","@id":"{{ site.url }}{{ page.url }}"},
    "@context":"http://schema.org"}
    </script>
</head>
<body>
